@startuml modelui7
title <size:30><b>Diagramme de classes ui de l'affichage des publications</b></size>

package app{

  package ui{

  package publication{

          class CommentaireAdapater extends RecyclerView.Adapter {
              - commentaires: List<Commentaire>

               + this: (commentaire : List<Commentaire>)

                + onCreateViewHolder(parent :@NonNull ViewGroup, viewType: int): CommentaireViewHolder
                + onBindViewHolder(holder: @NonNull final CommentaireViewHolder , position: int): void
                + getItemCount(): int

                static class CommentaireViewHolder extends RecyclerView.ViewHolder{
                     commentaireTextView : TextView
                     usernameTextView : TextView

                     + this : (itemView : View)
                }
          }


          class PublicationActivtiy extends AppCompatActivity{
                 - titreTextView: TextView
                 - miniatureImageView: ImageView
                 - likeCountTextView: TextView
                 - dislikeCountTextView: TextView
                 - commentaireEditText: EditText
                 - publication: Publication
                 - commentaireRecyclerView: RecyclerView
                 - emotionRecyclerView: RecyclerView
                 - adapter:  RecyclerView.Adapter
                 - userc : User
                 - currentUser : FirebaseAuth
                 - pseudoU : String
                 - veryHappyCountTV : TextView
                 - happyCountTV : TextView
                 - sadCountTV : TextView
                 - verySadCountTV : TextView

                 + onCreate(savedInstanceState : Bundle): void
          }

          class PublicationViewModel extends ViewModel{
              - publicationLiveData: MutableLiveData<Publication>
              - commentaires: MutableLiveData<List<Commentaire>>
              - emotionsLiveData : MutableLiveData<List<Emotion>>
              - authorUserLiveData: MutableLiveData<User>
              - currentUserLiveData: MutableLiveData<User>

              + getPublication(): MutableLiveData<Publication>
              + getCommentaires(): MutableLiveData<List<Commentaire>>
              + getEmotionsLiveData() : MutableLiveData<List<Emotion>>
              + getAuthorUserLiveData(): MutableLiveData<User>
              + loadPublication(publicationId : String): void
              + loadEmotions(publicationId : String): void
              + loadAuthorUser(publication : Publication): void
              + loadCurrentUser(userId : String): void
              + removeOldEmotion(userId : String, publicationId : String, newEmotionId : String): void
              + addEmotion(emotionName: String): void
          }
      }
   }
@enduml